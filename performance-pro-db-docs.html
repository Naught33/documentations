<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Database Documentation</title>
  <link rel="stylesheet" href="database-docs.css">
</head>
<body>
  <header>
      <h1>Database Documentation</h1>
      <p>Comprehensive guide to the database schema and API functions.</p>
  </header>

  <nav>
      <h2>Table of Contents</h2>
      <ul>
          <li><a href="#overview">Overview</a></li>
          <li><a href="#users">User</a></li>
          <li><a href="#ads">Ad</a></li>
          <li><a href="#metrics">Metrics</a></li>
          <li><a href="#notes">Note</a></li>
          <li><a href="#subscriptions">Subscription</a></li>
          <li><a href="#alerts">Alert</a></li>
          <li><a href="#ai-analyses">AI Analysis</a></li>
          <li><a href="#ab-tests">A/B Test</a></li>
          <li><a href="#ab-test-variants">A/B Test Variant</a></li>
      </ul>
  </nav>

  <main>
      <section id="overview">
          <h2>Overview</h2>
          <p>This document provides a detailed overview of the database schema and the available functions for interacting with the database. The current implementation uses Supabase with a PostgreSQL backend, as configured in <code>db.ts</code>. Please note that the Supabase configuration is temporary and is intended to be overridden with a MongoDB setup later.</p>
          <p>All functions are asynchronous and return Promises. Error handling is implemented by throwing errors, which should be caught by the calling code.</p>
          <h3>Supabase Configuration</h3>
          <p>The database connection is established using Supabase. Ensure the following environment variables are set for the connection to work:</p>
          <ul>
              <li><code>SUPABASE_PROJECT_ID</code>: Your Supabase project URL.</li>
              <li><code>SUPABASE_API_KEY</code>: Your Supabase API key (typically the <code>anon</code> public key for client-side or <code>service_role</code> key for server-side operations).</li>
          </ul>
          <pre><code>import { createClient } from '@supabase/supabase-js'

const supabaseUrl = process.env.SUPABASE_PROJECT_ID;
const supabaseKey = process.env.SUPABASE_API_KEY;

if (typeof supabaseUrl !== 'string' || typeof supabaseKey !== 'string') {
throw new Error("Supabase credentials are missing or invalid");
}
const supabase = createClient(supabaseUrl, supabaseKey);</code></pre>
      </section>

      <section id="users">
          <h2>User</h2>
          <h3>Schema</h3>
          <table>
              <thead>
                  <tr>
                      <th>Field</th>
                      <th>Type</th>
                      <th>Description</th>
                  </tr>
              </thead>
              <tbody>
                  <tr><td><code>_id</code></td><td><code>string</code></td><td>Unique identifier for the user.</td></tr>
                  <tr><td><code>email</code></td><td><code>string</code></td><td>User's email address.</td></tr>
                  <tr><td><code>role</code></td><td><code>string</code></td><td>User's role (e.g., 'admin', 'user').</td></tr>
                  <tr><td><code>supabaseid</code></td><td><code>string</code></td><td>Supabase user ID, if integrated.</td></tr>
                  <tr><td><code>subscriptionplane</code></td><td><code>string</code></td><td>Current subscription plan of the user.</td></tr>
                  <tr><td><code>createdat</code></td><td><code>Date (ISO 8601 string)</code></td><td>Timestamp when the user record was created.</td></tr>
              </tbody>
          </table>

          <h3>API Functions</h3>
          <div class="function-group">
              <h4><code>insertUser(user: User): Promise&lt;void&gt;</code></h4>
              <p>Inserts a new user record into the database.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>user</code></td><td><code>User</code></td><td>The user object to insert.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { insertUser } from './db';
import { User } from './dbTypes';

const newUser: User = {
  _id: 'user_123',
  email: 'test@example.com',
  role: 'user',
  supabaseid: 'supabase_abc',
  subscriptionplane: 'premium',
  createdat: new Date()
};
await insertUser(newUser);</code></pre>
          </div>

          <div class="function-group">
              <h4><code>updateUser(id: string, field: string, value: any): Promise&lt;any&gt;</code></h4>
              <p>Updates a specific field for a user record. The <code>_id</code> field cannot be changed.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody>
                          <tr><td><code>id</code></td><td><code>string</code></td><td>The <code>_id</code> of the user to update.</td></tr>
                          <tr><td><code>field</code></td><td><code>string</code></td><td>The name of the field to update.</td></tr>
                          <tr><td><code>value</code></td><td><code>any</code></td><td>The new value for the field.</td></tr>
                      </tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (updated data)</p>
              <pre><code>import { updateUser } from './db';
await updateUser('user_123', 'subscriptionplane', 'pro');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>deleteUser(userId: string): Promise&lt;void&gt;</code></h4>
              <p>Deletes a user record by its ID.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>userId</code></td><td><code>string</code></td><td>The <code>_id</code> of the user to delete.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { deleteUser } from './db';
await deleteUser('user_123');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>getUsers(startPage?: number, endPage?: number): Promise&lt;any&gt;</code></h4>
              <p>Retrieves multiple user records. Supports pagination.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody>
                          <tr><td><code>startPage</code></td><td><code>number | undefined</code></td><td>Optional. The starting index for pagination (inclusive).</td></tr>
                          <tr><td><code>endPage</code></td><td><code>number | undefined</code></td><td>Optional. The ending index for pagination (inclusive).</td></tr>
                      </tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (array of user data)</p>
              <pre><code>import { getUsers } from './db';
const allUsers = await getUsers(); // Get all users
const firstTenUsers = await getUsers(0, 9); // Get users from index 0 to 9</code></pre>
          </div>

          <div class="function-group">
              <h4><code>getUser(userId: string): Promise&lt;any&gt;</code></h4>
              <p>Retrieves a single user record by its ID.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>userId</code></td><td><code>string</code></td><td>The <code>_id</code> of the user to retrieve.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (single user object)</p>
              <pre><code>import { getUser } from './db';
const user = await getUser('user_123');</code></pre>
          </div>
      </section>

      <section id="ads">
          <h2>Ad</h2>
          <h3>Schema</h3>
          <table>
              <thead>
                  <tr>
                      <th>Field</th>
                      <th>Type</th>
                      <th>Description</th>
                  </tr>
              </thead>
              <tbody>
                  <tr><td><code>_id</code></td><td><code>string</code></td><td>Unique identifier for the ad.</td></tr>
                  <tr><td><code>userid</code></td><td><code>string</code></td><td>ID of the user who owns this ad.</td></tr>
                  <tr><td><code>title</code></td><td><code>string</code></td><td>Title of the ad.</td></tr>
                  <tr><td><code>platform</code></td><td><code>string</code></td><td>Platform where the ad is running (e.g., 'Facebook', 'Google').</td></tr>
                  <tr><td><code>campaignstart</code></td><td><code>Date (ISO 8601 string)</code></td><td>Start date of the ad campaign.</td></tr>
                  <tr><td><code>campaignend</code></td><td><code>Date (ISO 8601 string)</code></td><td>End date of the ad campaign.</td></tr>
                  <tr><td><code>uploadedat</code></td><td><code>Date (ISO 8601 string)</code></td><td>Timestamp when the ad was uploaded.</td></tr>
              </tbody>
          </table>

          <h3>API Functions</h3>
          <div class="function-group">
              <h4><code>insertAd(ad: Ad): Promise&lt;any&gt;</code></h4>
              <p>Inserts a new ad record into the database.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>ad</code></td><td><code>Ad</code></td><td>The ad object to insert.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (inserted ad data)</p>
              <pre><code>import { insertAd } from './db';
import { Ad } from './dbTypes';

const newAd: Ad = {
  _id: 'ad_456',
  userid: 'user_123',
  title: 'Summer Sale Campaign',
  platform: 'Facebook',
  campaignstart: new Date('2023-06-01'),
  campaignend: new Date('2023-06-30'),
  uploadedat: new Date()
};
await insertAd(newAd);</code></pre>
          </div>

          <div class="function-group">
              <h4><code>updateAd(id: string, field: string, value: any): Promise&lt;any&gt;</code></h4>
              <p>Updates a specific field for an ad record.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody>
                          <tr><td><code>id</code></td><td><code>string</code></td><td>The <code>_id</code> of the ad to update.</td></tr>
                          <tr><td><code>field</code></td><td><code>string</code></td><td>The name of the field to update.</td></tr>
                          <tr><td><code>value</code></td><td><code>any</code></td><td>The new value for the field.</td></tr>
                      </tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (updated data)</p>
              <pre><code>import { updateAd } from './db';
await updateAd('ad_456', 'title', 'Winter Collection Ad');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>deleteAd(adid: string): Promise&lt;void&gt;</code></h4>
              <p>Deletes an ad record by its ID.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>adid</code></td><td><code>string</code></td><td>The <code>_id</code> of the ad to delete.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { deleteAd } from './db';
await deleteAd('ad_456');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>getAd(adid: string): Promise&lt;any&gt;</code></h4>
              <p>Retrieves a single ad record by its ID.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>adid</code></td><td><code>string</code></td><td>The <code>_id</code> of the ad to retrieve.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (single ad object)</p>
              <pre><code>import { getAd } from './db';
const ad = await getAd('ad_456');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>getAds(startPage?: number, endPage?: number): Promise&lt;any&gt;</code></h4>
              <p>Retrieves multiple ad records. Supports pagination.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody>
                          <tr><td><code>startPage</code></td><td><code>number | undefined</code></td><td>Optional. The starting index for pagination (inclusive).</td></tr>
                          <tr><td><code>endPage</code></td><td><code>number | undefined</code></td><td>Optional. The ending index for pagination (inclusive).</td></tr>
                      </tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (array of ad data)</p>
              <pre><code>import { getAds } from './db';
const allAds = await getAds();
const paginatedAds = await getAds(0, 4);</code></pre>
          </div>
      </section>

      <section id="metrics">
          <h2>Metrics</h2>
          <h3>Schema</h3>
          <table>
              <thead>
                  <tr>
                      <th>Field</th>
                      <th>Type</th>
                      <th>Description</th>
                  </tr>
              </thead>
              <tbody>
                  <tr><td><code>_id</code></td><td><code>string</code></td><td>Unique identifier for the metric entry.</td></tr>
                  <tr><td><code>adid</code></td><td><code>string</code></td><td>ID of the ad associated with these metrics.</td></tr>
                  <tr><td><code>date</code></td><td><code>Date (ISO 8601 string)</code></td><td>Date for which these metrics are recorded.</td></tr>
                  <tr><td><code>impressions</code></td><td><code>number</code></td><td>Number of times the ad was shown.</td></tr>
                  <tr><td><code>clicks</code></td><td><code>number</code></td><td>Number of clicks on the ad.</td></tr>
                  <tr><td><code>cost</code></td><td><code>number</code></td><td>Cost incurred for the ad.</td></tr>
                  <tr><td><code>conversions</code></td><td><code>number</code></td><td>Number of conversions from the ad.</td></tr>
                  <tr><td><code>ctr</code></td><td><code>number</code></td><td>Click-Through Rate (clicks / impressions).</td></tr>
                  <tr><td><code>cpc</code></td><td><code>number</code></td><td>Cost Per Click (cost / clicks).</td></tr>
                  <tr><td><code>createdat</code></td><td><code>Date (ISO 8601 string)</code></td><td>Timestamp when the metric record was created.</td></tr>
              </tbody>
          </table>

          <h3>API Functions</h3>
          <div class="function-group">
              <h4><code>insertMetrics(metrics: Metrics): Promise&lt;void&gt;</code></h4>
              <p>Inserts new metrics data for an ad.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>metrics</code></td><td><code>Metrics</code></td><td>The metrics object to insert.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { insertMetrics } from './db';
import { Metrics } from './dbTypes';

const newMetrics: Metrics = {
  _id: 'metric_789',
  adid: 'ad_456',
  date: new Date('2023-06-15'),
  impressions: 10000,
  clicks: 500,
  cost: 100.50,
  conversions: 20,
  ctr: 0.05,
  cpc: 0.201,
  createdat: new Date()
};
await insertMetrics(newMetrics);</code></pre>
          </div>

          <div class="function-group">
              <h4><code>updateMetrics(metricId: string, field: string, value: any): Promise&lt;void&gt;</code></h4>
              <p>Updates a specific field for a metrics record. The <code>_id</code> field cannot be changed.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody>
                          <tr><td><code>metricId</code></td><td><code>string</code></td><td>The <code>_id</code> of the metric record to update.</td></tr>
                          <tr><td><code>field</code></td><td><code>string</code></td><td>The name of the field to update.</td></tr>
                          <tr><td><code>value</code></td><td><code>any</code></td><td>The new value for the field.</td></tr>
                      </tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { updateMetrics } from './db';
await updateMetrics('metric_789', 'impressions', 12000);</code></pre>
          </div>

          <div class="function-group">
              <h4><code>deleteMetrics(metricId: string): Promise&lt;void&gt;</code></h4>
              <p>Deletes a metrics record by its ID.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>metricId</code></td><td><code>string</code></td><td>The <code>_id</code> of the metric record to delete.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { deleteMetrics } from './db';
await deleteMetrics('metric_789');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>getMetric(metricId: string): Promise&lt;any&gt;</code></h4>
              <p>Retrieves a single metrics record by its ID.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>metricId</code></td><td><code>string</code></td><td>The <code>_id</code> of the metric record to retrieve.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (single metrics object)</p>
              <pre><code>import { getMetric } from './db';
const metric = await getMetric('metric_789');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>getMetrics(startPage?: number, endPage?: number): Promise&lt;any&gt;</code></h4>
              <p>Retrieves multiple metrics records. Supports pagination.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody>
                          <tr><td><code>startPage</code></td><td><code>number | undefined</code></td><td>Optional. The starting index for pagination (inclusive).</td></tr>
                          <tr><td><code>endPage</code></td><td><code>number | undefined</code></td><td>Optional. The ending index for pagination (inclusive).</td></tr>
                      </tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (array of metrics data)</p>
              <pre><code>import { getMetrics } from './db';
const allMetrics = await getMetrics();
const paginatedMetrics = await getMetrics(0, 9);</code></pre>
          </div>
      </section>

      <section id="notes">
          <h2>Note</h2>
          <h3>Schema</h3>
          <table>
              <thead>
                  <tr>
                      <th>Field</th>
                      <th>Type</th>
                      <th>Description</th>
                  </tr>
              </thead>
              <tbody>
                  <tr><td><code>_id</code></td><td><code>string</code></td><td>Unique identifier for the note.</td></tr>
                  <tr><td><code>adid</code></td><td><code>string</code></td><td>ID of the ad associated with this note.</td></tr>
                  <tr><td><code>userid</code></td><td><code>string</code></td><td>ID of the user who created this note.</td></tr>
                  <tr><td><code>text</code></td><td><code>string</code></td><td>Content of the note.</td></tr>
                  <tr><td><code>created</code></td><td><code>Date (ISO 8601 string)</code></td><td>Timestamp when the note was created.</td></tr>
              </tbody>
          </table>

          <h3>API Functions</h3>
          <div class="function-group">
              <h4><code>insertNote(noteDetails: Note): Promise&lt;void&gt;</code></h4>
              <p>Inserts a new note record into the database.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>noteDetails</code></td><td><code>Note</code></td><td>The note object to insert.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { insertNote } from './db';
import { Note } from './dbTypes';

const newNote: Note = {
  _id: 'note_101',
  adid: 'ad_456',
  userid: 'user_123',
  text: 'Campaign performance dipped after June 15th.',
  created: new Date()
};
await insertNote(newNote);</code></pre>
          </div>

          <div class="function-group">
              <h4><code>updateNote(noteId: string, field: string, value: any): Promise&lt;void&gt;</code></h4>
              <p>Updates a specific field for a note record. The <code>_id</code> field cannot be changed.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody>
                          <tr><td><code>noteId</code></td><td><code>string</code></td><td>The <code>_id</code> of the note to update.</td></tr>
                          <tr><td><code>field</code></td><td><code>string</code></td><td>The name of the field to update.</td></tr>
                          <tr><td><code>value</code></td><td><code>any</code></td><td>The new value for the field.</td></tr>
                      </tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { updateNote } from './db';
await updateNote('note_101', 'text', 'Investigate performance drop.');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>deleteNote(noteId: string): Promise&lt;void&gt;</code></h4>
              <p>Deletes a note record by its ID.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>noteId</code></td><td><code>string</code></td><td>The <code>_id</code> of the note to delete.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { deleteNote } from './db';
await deleteNote('note_101');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>getNote(noteId: string): Promise&lt;any&gt;</code></h4>
              <p>Retrieves a single note record by its ID.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>noteId</code></td><td><code>string</code></td><td>The <code>_id</code> of the note to retrieve.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (single note object)</p>
              <pre><code>import { getNote } from './db';
const note = await getNote('note_101');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>getNotes(startPage?: number, endPage?: number): Promise&lt;any&gt;</code></h4>
              <p>Retrieves multiple note records. Supports pagination.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody>
                          <tr><td><code>startPage</code></td><td><code>number | undefined</code></td><td>Optional. The starting index for pagination (inclusive).</td></tr>
                          <tr><td><code>endPage</code></td><td><code>number | undefined</code></td><td>Optional. The ending index for pagination (inclusive).</td></tr>
                      </tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (array of note data)</p>
              <pre><code>import { getNotes } from './db';
const allNotes = await getNotes();
const paginatedNotes = await getNotes(0, 4);</code></pre>
          </div>
      </section>

      <section id="subscriptions">
          <h2>Subscription</h2>
          <h3>Schema</h3>
          <table>
              <thead>
                  <tr>
                      <th>Field</th>
                      <th>Type</th>
                      <th>Description</th>
                  </tr>
              </thead>
              <tbody>
                  <tr><td><code>_id</code></td><td><code>string</code></td><td>Unique identifier for the subscription.</td></tr>
                  <tr><td><code>userid</code></td><td><code>string</code></td><td>ID of the user associated with this subscription.</td></tr>
                  <tr><td><code>stripecustomerid</code></td><td><code>string</code></td><td>Stripe customer ID for billing.</td></tr>
                  <tr><td><code>currentplan</code></td><td><code>string</code></td><td>The current subscription plan (e.g., 'basic', 'premium').</td></tr>
                  <tr><td><code>status</code></td><td><code>string</code></td><td>Current status of the subscription (e.g., 'active', 'cancelled').</td></tr>
                  <tr><td><code>startdate</code></td><td><code>Date (ISO 8601 string)</code></td><td>Date when the subscription started.</td></tr>
                  <tr><td><code>renewaldate</code></td><td><code>Date (ISO 8601 string)</code></td><td>Date when the subscription is due for renewal.</td></tr>
              </tbody>
          </table>

          <h3>API Functions</h3>
          <div class="function-group">
              <h4><code>insertSubscription(subscription: Subscription): Promise&lt;void&gt;</code></h4>
              <p>Inserts a new subscription record into the database.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>subscription</code></td><td><code>Subscription</code></td><td>The subscription object to insert.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { insertSubscription } from './db';
import { Subscription } from './dbTypes';

const newSubscription: Subscription = {
  _id: 'sub_202',
  userid: 'user_123',
  stripecustomerid: 'cus_xyz',
  currentplan: 'premium',
  status: 'active',
  startdate: new Date('2023-01-01'),
  renewaldate: new Date('2024-01-01')
};
await insertSubscription(newSubscription);</code></pre>
          </div>

          <div class="function-group">
              <h4><code>updateSubscription(subId: string, field: string, value: any): Promise&lt;void&gt;</code></h4>
              <p>Updates a specific field for a subscription record. The <code>_id</code> field cannot be changed.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody>
                          <tr><td><code>subId</code></td><td><code>string</code></td><td>The <code>_id</code> of the subscription to update.</td></tr>
                          <tr><td><code>field</code></td><td><code>string</code></td><td>The name of the field to update.</td></tr>
                          <tr><td><code>value</code></td><td><code>any</code></td><td>The new value for the field.</td></tr>
                      </tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { updateSubscription } from './db';
await updateSubscription('sub_202', 'status', 'cancelled');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>deleteSubscription(subId: string): Promise&lt;void&gt;</code></h4>
              <p>Deletes a subscription record by its ID.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>subId</code></td><td><code>string</code></td><td>The <code>_id</code> of the subscription to delete.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { deleteSubscription } from './db';
await deleteSubscription('sub_202');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>getSubscription(subId: string): Promise&lt;any&gt;</code></h4>
              <p>Retrieves a single subscription record by its ID.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>subId</code></td><td><code>string</code></td><td>The <code>_id</code> of the subscription to retrieve.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (single subscription object)</p>
              <pre><code>import { getSubscription } from './db';
const subscription = await getSubscription('sub_202');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>getSubscriptions(startPage?: number, endPage?: number): Promise&lt;any&gt;</code></h4>
              <p>Retrieves multiple subscription records. Supports pagination.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody>
                          <tr><td><code>startPage</code></td><td><code>number | undefined</code></td><td>Optional. The starting index for pagination (inclusive).</td></tr>
                          <tr><td><code>endPage</code></td><td><code>number | undefined</code></td><td>Optional. The ending index for pagination (inclusive).</td></tr>
                      </tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (array of subscription data)</p>
              <pre><code>import { getSubscriptions } from './db';
const allSubscriptions = await getSubscriptions();
const paginatedSubscriptions = await getSubscriptions(0, 4);</code></pre>
          </div>
      </section>

      <section id="alerts">
          <h2>Alert</h2>
          <h3>Schema</h3>
          <table>
              <thead>
                  <tr>
                      <th>Field</th>
                      <th>Type</th>
                      <th>Description</th>
                  </tr>
              </thead>
              <tbody>
                  <tr><td><code>_id</code></td><td><code>string</code></td><td>Unique identifier for the alert.</td></tr>
                  <tr><td><code>userid</code></td><td><code>string</code></td><td>ID of the user who owns this alert.</td></tr>
                  <tr><td><code>adid</code></td><td><code>string</code></td><td>ID of the ad associated with this alert.</td></tr>
                  <tr><td><code>type</code></td><td><code>string</code></td><td>Type of alert (e.g., 'performance_drop', 'budget_exceeded').</td></tr>
                  <tr><td><code>triggered</code></td><td><code>boolean</code></td><td>Indicates if the alert has been triggered.</td></tr>
                  <tr><td><code>rule</code></td><td><code>JSON object</code></td><td>JSON object defining the rule that triggers the alert.</td></tr>
                  <tr><td><code>created</code></td><td><code>Date (ISO 8601 string)</code></td><td>Timestamp when the alert was created.</td></tr>
              </tbody>
          </table>

          <h3>API Functions</h3>
          <div class="function-group">
              <h4><code>insertAlert(alert: Alert): Promise&lt;void&gt;</code></h4>
              <p>Inserts a new alert record into the database.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>alert</code></td><td><code>Alert</code></td><td>The alert object to insert.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { insertAlert } from './db';
import { Alert } from './dbTypes';

const newAlert: Alert = {
  _id: 'alert_303',
  userid: 'user_123',
  adid: 'ad_456',
  type: 'performance_drop',
  triggered: false,
  rule: { metric: 'ctr', threshold: 0.03, direction: 'below' },
  created: new Date()
};
await insertAlert(newAlert);</code></pre>
          </div>

          <div class="function-group">
              <h4><code>updateAlerts(id: string, field: string, value: string): Promise&lt;void&gt;</code></h4>
              <p>Updates a specific field for an alert record. The <code>_id</code> field cannot be changed.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody>
                          <tr><td><code>id</code></td><td><code>string</code></td><td>The <code>_id</code> of the alert to update.</td></tr>
                          <tr><td><code>field</code></td><td><code>string</code></td><td>The name of the field to update.</td></tr>
                          <tr><td><code>value</code></td><td><code>string</code></td><td>The new value for the field.</td></tr>
                      </tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { updateAlerts } from './db';
await updateAlerts('alert_303', 'triggered', true);</code></pre>
          </div>

          <div class="function-group">
              <h4><code>deleteAlerts(id: string): Promise&lt;void&gt;</code></h4>
              <p>Deletes an alert record by its ID.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>id</code></td><td><code>string</code></td><td>The <code>_id</code> of the alert to delete.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { deleteAlerts } from './db';
await deleteAlerts('alert_303');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>getAlerts(startPage?: number, endPage?: number): Promise&lt;any&gt;</code></h4>
              <p>Retrieves multiple alert records. Supports pagination.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody>
                          <tr><td><code>startPage</code></td><td><code>number | undefined</code></td><td>Optional. The starting index for pagination (inclusive).</td></tr>
                          <tr><td><code>endPage</code></td><td><code>number | undefined</code></td><td>Optional. The ending index for pagination (inclusive).</td></tr>
                      </tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (array of alert data)</p>
              <pre><code>import { getAlerts } from './db';
const allAlerts = await getAlerts();
const paginatedAlerts = await getAlerts(0, 4);</code></pre>
          </div>

          <div class="function-group">
              <h4><code>getAlert(alertid: string): Promise&lt;any&gt;</code></h4>
              <p>Retrieves a single alert record by its ID.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>alertid</code></td><td><code>string</code></td><td>The <code>_id</code> of the alert to retrieve.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (single alert object)</p>
              <pre><code>import { getAlert } from './db';
const alert = await getAlert('alert_303');</code></pre>
          </div>
      </section>

      <section id="ai-analyses">
          <h2>AI Analysis</h2>
          <h3>Schema</h3>
          <table>
              <thead>
                  <tr>
                      <th>Field</th>
                      <th>Type</th>
                      <th>Description</th>
                  </tr>
              </thead>
              <tbody>
                  <tr><td><code>_id</code></td><td><code>string</code></td><td>Unique identifier for the AI analysis.</td></tr>
                  <tr><td><code>adid</code></td><td><code>string</code></td><td>ID of the ad that was analyzed.</td></tr>
                  <tr><td><code>score</code></td><td><code>string</code></td><td>Overall score or rating from the AI analysis.</td></tr>
                  <tr><td><code>summary</code></td><td><code>string</code></td><td>Summary of the AI analysis.</td></tr>
                  <tr><td><code>recommendations</code></td><td><code>string</code></td><td>Recommendations provided by the AI.</td></tr>
                  <tr><td><code>createdate</code></td><td><code>Date (ISO 8601 string)</code></td><td>Timestamp when the AI analysis was created.</td></tr>
              </tbody>
          </table>

          <h3>API Functions</h3>
          <div class="function-group">
              <h4><code>insertAiAnalysis(AIanalysis: AiAnalysis): Promise&lt;void&gt;</code></h4>
              <p>Inserts a new AI analysis record into the database.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>AIanalysis</code></td><td><code>AiAnalysis</code></td><td>The AI analysis object to insert.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { insertAiAnalysis } from './db';
import { AiAnalysis } from './dbTypes';

const newAiAnalysis: AiAnalysis = {
  _id: 'ai_404',
  adid: 'ad_456',
  score: '85/100',
  summary: 'Ad performed well, high CTR.',
  recommendations: 'Increase budget for this ad.',
  createdate: new Date()
};
await insertAiAnalysis(newAiAnalysis);</code></pre>
          </div>

          <div class="function-group">
              <h4><code>updateAiAnalyses(id: string, field: string, value: any): Promise&lt;void&gt;</code></h4>
              <p>Updates a specific field for an AI analysis record. The <code>_id</code> field cannot be changed.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody>
                          <tr><td><code>id</code></td><td><code>string</code></td><td>The <code>_id</code> of the AI analysis to update.</td></tr>
                          <tr><td><code>field</code></td><td><code>string</code></td><td>The name of the field to update.</td></tr>
                          <tr><td><code>value</code></td><td><code>any</code></td><td>The new value for the field.</td></tr>
                      </tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { updateAiAnalyses } from './db';
await updateAiAnalyses('ai_404', 'score', '90/100');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>deleteAiAnalyses(id: string): Promise&lt;void&gt;</code></h4>
              <p>Deletes an AI analysis record by its ID.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>id</code></td><td><code>string</code></td><td>The <code>_id</code> of the AI analysis to delete.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { deleteAiAnalyses } from './db';
await deleteAiAnalyses('ai_404');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>getAiAnalyses(startPage?: number, endPage?: number): Promise&lt;any&gt;</code></h4>
              <p>Retrieves multiple AI analysis records. Supports pagination.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody>
                          <tr><td><code>startPage</code></td><td><code>number | undefined</code></td><td>Optional. The starting index for pagination (inclusive).</td></tr>
                          <tr><td><code>endPage</code></td><td><code>number | undefined</code></td><td>Optional. The ending index for pagination (inclusive).</td></tr>
                      </tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (array of AI analysis data)</p>
              <pre><code>import { getAiAnalyses } from './db';
const allAiAnalyses = await getAiAnalyses();
const paginatedAiAnalyses = await getAiAnalyses(0, 4);</code></pre>
          </div>

          <div class="function-group">
              <h4><code>getAiAnalysis(id: string): Promise&lt;any&gt;</code></h4>
              <p>Retrieves a single AI analysis record by its ID.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>id</code></td><td><code>string</code></td><td>The <code>_id</code> of the AI analysis to retrieve.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (single AI analysis object)</p>
              <pre><code>import { getAiAnalysis } from './db';
const aiAnalysis = await getAiAnalysis('ai_404');</code></pre>
          </div>
      </section>

      <section id="ab-tests">
          <h2>A/B Test</h2>
          <h3>Schema</h3>
          <table>
              <thead>
                  <tr>
                      <th>Field</th>
                      <th>Type</th>
                      <th>Description</th>
                  </tr>
              </thead>
              <tbody>
                  <tr><td><code>_id</code></td><td><code>string</code></td><td>Unique identifier for the A/B test.</td></tr>
                  <tr><td><code>userif</code></td><td><code>string</code></td><td>ID of the user who created this A/B test.</td></tr>
                  <tr><td><code>testname</code></td><td><code>string</code></td><td>Name of the A/B test.</td></tr>
                  <tr><td><code>startdate</code></td><td><code>Date (ISO 8601 string)</code></td><td>Start date of the A/B test.</td></tr>
                  <tr><td><code>enddate</code></td><td><code>Date (ISO 8601 string)</code></td><td>End date of the A/B test.</td></tr>
              </tbody>
          </table>

          <h3>API Functions</h3>
          <div class="function-group">
              <h4><code>insertABtest(test: ABTest): Promise&lt;void&gt;</code></h4>
              <p>Inserts a new A/B test record into the database.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>test</code></td><td><code>ABTest</code></td><td>The A/B test object to insert.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { insertABtest } from './db';
import { ABTest } from './dbTypes';

const newABTest: ABTest = {
  _id: 'abtest_505',
  userif: 'user_123',
  testname: 'Homepage CTA Button Test',
  startdate: new Date('2023-07-01'),
  enddate: new Date('2023-07-15')
};
await insertABtest(newABTest);</code></pre>
          </div>

          <div class="function-group">
              <h4><code>updateABtest(testId: string, field: string, value: any): Promise&lt;void&gt;</code></h4>
              <p>Updates a specific field for an A/B test record. The <code>_id</code> field cannot be changed.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody>
                          <tr><td><code>testId</code></td><td><code>string</code></td><td>The <code>_id</code> of the A/B test to update.</td></tr>
                          <tr><td><code>field</code></td><td><code>string</code></td><td>The name of the field to update.</td></tr>
                          <tr><td><code>value</code></td><td><code>any</code></td><td>The new value for the field.</td></tr>
                      </tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { updateABtest } from './db';
await updateABtest('abtest_505', 'enddate', new Date('2023-07-31'));</code></pre>
          </div>

          <div class="function-group">
              <h4><code>deleteABtest(testId: string): Promise&lt;void&gt;</code></h4>
              <p>Deletes an A/B test record by its ID.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>testId</code></td><td><code>string</code></td><td>The <code>_id</code> of the A/B test to delete.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { deleteABtest } from './db';
await deleteABtest('abtest_505');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>getABtest(testId: string): Promise&lt;any&gt;</code></h4>
              <p>Retrieves a single A/B test record by its ID.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>testId</code></td><td><code>string</code></td><td>The <code>_id</code> of the A/B test to retrieve.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (single A/B test object)</p>
              <pre><code>import { getABtest } from './db';
const abTest = await getABtest('abtest_505');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>getABTestes(startPage?: number, endPage?: number): Promise&lt;any&gt;</code></h4>
              <p>Retrieves multiple A/B test records. Supports pagination.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody>
                          <tr><td><code>startPage</code></td><td><code>number | undefined</code></td><td>Optional. The starting index for pagination (inclusive).</td></tr>
                          <tr><td><code>endPage</code></td><td><code>number | undefined</code></td><td>Optional. The ending index for pagination (inclusive).</td></tr>
                      </tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (array of A/B test data)</p>
              <pre><code>import { getABTestes } from './db';
const allABTests = await getABTestes();
const paginatedABTests = await getABTestes(0, 4);</code></pre>
          </div>
      </section>

      <section id="ab-test-variants">
          <h2>A/B Test Variant</h2>
          <h3>Schema</h3>
          <table>
              <thead>
                  <tr>
                      <th>Field</th>
                      <th>Type</th>
                      <th>Description</th>
                  </tr>
              </thead>
              <tbody>
                  <tr><td><code>_id</code></td><td><code>string</code></td><td>Unique identifier for the A/B test variant.</td></tr>
                  <tr><td><code>abtestid</code></td><td><code>string</code></td><td>ID of the A/B test this variant belongs to.</td></tr>
                  <tr><td><code>adid</code></td><td><code>string</code></td><td>ID of the ad associated with this variant.</td></tr>
                  <tr><td><code>variantname</code></td><td><code>string</code></td><td>Name of the variant (e.g., 'Control', 'Variant A').</td></tr>
              </tbody>
          </table>

          <h3>API Functions</h3>
          <div class="function-group">
              <h4><code>insertABtestVariant(variant: ABTestVariant): Promise&lt;void&gt;</code></h4>
              <p>Inserts a new A/B test variant record into the database.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>variant</code></td><td><code>ABTestVariant</code></td><td>The A/B test variant object to insert.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { insertABtestVariant } from './db';
import { ABTestVariant } from './dbTypes';

const newVariant: ABTestVariant = {
  _id: 'variant_606',
  abtestid: 'abtest_505',
  adid: 'ad_456',
  variantname: 'Variant A - Red Button'
};
await insertABtestVariant(newVariant);</code></pre>
          </div>

          <div class="function-group">
              <h4><code>updateABtestVariant(id: string, field: string, value: any): Promise&lt;void&gt;</code></h4>
              <p>Updates a specific field for an A/B test variant record. The <code>_id</code> field cannot be changed.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody>
                          <tr><td><code>id</code></td><td><code>string</code></td><td>The <code>_id</code> of the A/B test variant to update.</td></tr>
                          <tr><td><code>field</code></td><td><code>string</code></td><td>The name of the field to update.</td></tr>
                          <tr><td><code>value</code></td><td><code>any</code></td><td>The new value for the field.</td></tr>
                      </tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { updateABtestVariant } from './db';
await updateABtestVariant('variant_606', 'variantname', 'Variant A - Blue Button');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>deleteABtestVariant(id: string): Promise&lt;void&gt;</code></h4>
              <p>Deletes an A/B test variant record by its ID.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>id</code></td><td><code>string</code></td><td>The <code>_id</code> of the A/B test variant to delete.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;void&gt;</code></p>
              <pre><code>import { deleteABtestVariant } from './db';
await deleteABtestVariant('variant_606');</code></pre>
          </div>

          <div class="function-group">
              <h4><code>getABtestVariants(startPage?: number, endPage?: number): Promise&lt;any&gt;</code></h4>
              <p>Retrieves multiple A/B test variant records. Supports pagination.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody>
                          <tr><td><code>startPage</code></td><td><code>number | undefined</code></td><td>Optional. The starting index for pagination (inclusive).</td></tr>
                          <tr><td><code>endPage</code></td><td><code>number | undefined</code></td><td>Optional. The ending index for pagination (inclusive).</td></tr>
                      </tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (array of A/B test variant data)</p>
              <pre><code>import { getABtestVariants } from './db';
const allVariants = await getABtestVariants();
const paginatedVariants = await getABtestVariants(0, 4);</code></pre>
          </div>

          <div class="function-group">
              <h4><code>getABtestVariant(id: string): Promise&lt;any&gt;</code></h4>
              <p>Retrieves a single A/B test variant record by its ID.</p>
              <div class="params">
                  <h5>Parameters:</h5>
                  <table>
                      <thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead>
                      <tbody><tr><td><code>id</code></td><td><code>string</code></td><td>The <code>_id</code> of the A/B test variant to retrieve.</td></tr></tbody>
                  </table>
              </div>
              <p><strong>Returns:</strong> <code>Promise&lt;any&gt;</code> (single A/B test variant object)</p>
              <pre><code>import { getABtestVariant } from './db';
const variant = await getABtestVariant('variant_606');</code></pre>
          </div>
      </section>
  </main>

  <footer>
      <p>END</p>
  </footer>

  <script src="script.js"></script>
</body>
</html>
